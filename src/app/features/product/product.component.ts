import { Component, OnInit } from '@angular/core';
import { CommonModule } from '@angular/common';
import { ProductCallService } from '../../shared/crudhttp/product-call.service';
import { Product } from '../../shared/modelsData/ProductModel/Product';
import { FormsModule } from '@angular/forms';



@Component({
  selector: 'app-product',
  standalone: true,
  imports: [CommonModule,FormsModule],
  templateUrl: './product.component.html',
  styleUrl: './product.component.css',
  providers: [ProductCallService]
  
})
export class ProductComponent implements OnInit {
  Products: Product[] = []
  insert: boolean = false;
  view: boolean = false;
  value: string = ''
  newProduct: any= { }
  constructor(private ps: ProductCallService) {
   }
   submitForm(form: any): void {
    if (form.valid) {
      // Puoi eseguire qui l'invio del form o eseguire altre azioni
      this.newProduct= form.value
      console.log(form.value);
      this.postProduct()

    }
  }
  getProduct() {
    this.ps.getProductData().subscribe({
    
      next: (result: any) => {
       
        this.Products = result;
        console.log('sono nel next ', this.Products[0])
       
      },
      error: (err: any) => {
        console.log('errore')
        console.log(err);
      }
    })
  }
  postProduct() {
    this.ps.postProductData(this.newProduct).subscribe({
    
      next: (result: any) => {
       
        
        console.log('inserimento riuscito')
       
      },
      error: (err: any) => {
        console.log('errore nel post')
        console.log(err);
      }
    })
  }
  ngOnInit() {
    
    this.getProduct();
  }
  cngInsert() {
    this.insert = !this.insert
  }
  cngView() {
    this.view = !this.view
  }
  getImage(s: any) {
    console.log(s)
    return `data:image/jpeg;base64,0x47494638396150003100F70000C1C3BDF4F4F4BBCCC9ECEAEAC2D4D1ACC2BBB5B8B4DADADAB8BAB5ABB8B4AAB5B2E8E6E6D6D5D5A8B4ADEAEAEAC7C8C4B0B2ACA6B3B3E2E2E2DFDEDEE1E0E0ECECECB3BDBBF0F0F0CDD2CCD4D9D4F4F2F3C2D2CDEAE8E8E4E2E2E6F3F3DCDCDCCADBD9F2F2F2A4A5A3F0EEEEADADACABBDBBB4C9C3A5B1ADCECDCDE5E4E4D1D2CDDFDDDDD8D8D8EEECECCDCFCAD9E9E9F5F3F3E6E5E6BEBFBDEEEEEED9D6D6B4B6B0D8DAD6BCBDB9E0E1DEC8CAC4E7E4E4C6C5C5F2F0F1F7F4F49D9C9AB4C2BBE8E7E8E3E0E1DCDEDABDC0BAC2C1C1F9F2F1B9BDB9B9BAB8E4E3E4A5ADABFBFCFCE9E8E8D8D6D8ADAFAADCDBDCFAF8F8E4E5E2E0DEE0A9AAA9EDECECCBD8D5DAD9DAAAADA6DEDCDEBFC1BCA6B8B9F8F7F7DADCD8D4D2D1C9C9C9E8E8E7C4C4C1BAC9C7ECEAECB5B6B4D3D5D2B0C2C2DDDCDDE3D9D9B1B2B0B4C6C5AEC0C0CCCACBF2EEEEB5C5C2B2B6B3F1EFEFCACDC8E2E0E2E6DBDBBFC2C1DADFDDBED0CEBFC5C2D4D3D4C4C9C8FCFBFBE6E4E6E3E4E2C1C6C0B3C4C3CAC7C8BDC7C6EEEDEDC0CECED6E1E1DCDADBFCFBFCC7CECDF6EFEFCAD5D4C5D8D5FCFCFBFAFAF9C2CDCBF4F0F1BBC2C1EBEAE8DEE1DDDBDADBB2C6C6A6ABA6E1E0E1DDDEDCDEDDDED9D8D9DFDDE0D1D2D1B5C3C3FDFDFDFCFCFCFBFBFBF8F8F8FBFAFAF7F7F7FAFAFAF9F9F9FEFDFDF9F8F8F7F6F6F6F6F6FDFCFCFBFAFBFBFBFAFDFCFDF8F7F8F8F8F7FEFDFEF0EDEDF2F1F1FEFEFDFDFEFEF7F7F8F7F7F6F7F6F7FDFDFEF4F4F3EAE9E9F9F8F9F2F2F1FAFAFBF0EFEDF3F3F3FCFCFDE1E2E0FDFDFCF6F6F5F8F9F9F0F0EFEBEBEBEDEEEDF8F8F9F6F5F5DAE2E2F8F9F8E4DDDDF8FEFEF1F1F1F9F9F8E2E7E6E3E3E3E0EBEBF2ECECBBC0BBEFEFEFB8C2BFE3E3E0E7E7E7F3F4F3F6F6F7C3C9C9F7F2F3C5C3C4F4F1F1FCFDFCBEC4BEC0C0BEEFF4F4FCFDFDF5F6F5FAFBFBAEAFAFD8CFD0CFDFE08D9796818080EAD9D9FDFEFDC0C6C5D5DDD9B9BEBCB9B8B7F0EBEBF0EBECF1ECEBCFCFCEE1DCDCEEEEEDC1C0C0E9EAE8E9EAEAFAF9F99AAEAEC3D0D0E4E7E7E6D4D4E7E7E4D7D6D7ACACACA7AFAEFEFEFEFFFFFF21F90400000000002C00000000500031000008FF00FF091C48B0A0C18308132A5CC8B0E1C04C0E230AF4376A043B67850A15D9B8D19D068912FD0590C089A0A600333E090C0552203178F08E99311387A6B97CF98E8D6AE9D01FB447CC3C29D1B580128B7D12DC5C08B2A6A5BF4C995EA1223605080D1AF046F8E3199118033B559CD8B1430988844751283DD2C175A0A660CC525CD0D63622386894183080B353E0146C3BECF0A8FB8FD31F0DB308475459EA51258803BBA113D1473135608A25120BF12FCA95821E0C884001AAAEBF11BA3247D4F53106835403FDBD104162CC1C1C03B4F0DC144C95EA86FE866D95C580522781C808F03BD3840F0110E91C71F015D15FAB01907F2BDCF56A6032065582F5FFF060E1C69E315FDA444843874A0621FA606C15F82AD3FC8114D6A9C9AEDDA11609FB8873C71944F42304299E30A306020A9420000154D8204D2E9A1CB4C925EBC8804B7F2D6D32C23D62DC90041A381023101E533020438368D061C87B8DF8E65D1732BCC1214FC80820430D359C0006050114A4C10A0F18900019026C8041067AD0F24F2D3B2030C98D099DF4472D4BD4124C2B5A34630137085060C00980EC00CD41F54CF38E1109A461021B75BCF10611433869D0200154E0C534D3D0934C2AF7B5444C0A4E545105259438F1481582D07104022EFCE300041128820D2909B9120F0D7224A0801452C880850405E9C28C134E945186138254C142251354FFC05F439C48C08213417831801BD9B8D1C2001FF0C14D130708C48B1559288242850B1183C30367C8F0C3A802C922C90112ECBA48363068B0C6000B4451C501673AF4070B8F48D0C228B3E2510C1B323461071215DA60450977D8E110140660A14001582CA041151DB4008328AE1884070C53E8508504CC2A040403130C50DA41A1BCC08801282CC0C207A5A910491A754CD0900B063CA04203263481C21F6B1CA75026D7B430C1072A2534CD3E70B4225026110F540F083220008A26D35452C527BBB8100919EA00B19026431CA1C22C639C5000094824E4CF5303893205054E044DD01FFBA460E244B3FED38DA3EFACC4C13E94F803CA1749646184CF0901FF23C61038FC03448F26EC80E94460FF631F44F3D9520B05261BE4090B14C010DB41FE34E30702C2FCB35526793010C33F01DCD04F090FE886D02467EC910C2C955000C00926AC63F953607F6DDF56607352CB07B51844F60804053A100CE330F240419D4CC04090C28C890617660FF486182E98624919AD7CF280D6E178A2F8D79E3FB57BC41A4C534549DEB110034B9E2754C12146F062D005954421D03C9492C1C041BFA89A10DCC084016C851300684001C4608ADD792E139BD0843F24B8927F8C8D5403490B677ED6B67FE061198000C013E6433E7F20611F96FB072F9A10810450C020C1A80116BC108515ACED1FC4B881028F3008FB784E139F800A09FF05220A201CE0629EA8420CF863BCAD6821107E6001422EC082140C640BC84A40F008B28533BC6100951840416EC1A012C8236240F361FC06328509044320C1A8C21F1AC203106C638EC6FBC72628F00866F9430508C842345427901CD420034810440A0912831A24A0004EB81C09CD27900020E185FF90C0046E58BC89FC6315CC20800B06A1843C3EA9124112082E30300448D44166C6308211A0000709D4E3203880400236C08107164F8802F9041028710A4D5022059BF0E44134910A42B06105E43B881BAA30058278E201CFC8C21D04A20711ECE10F55008229FF31095D12008F0411E27D5851065D70C209E2C4DC403A11043658A00708D90A0CCAB0FF8082840000EAB04706FE01011FBCE32C03D0844251A189526482A1A8604113122080D1950F216E98C01F02F0882D7A2D177D480006C6B746828C220A5D2B4805109004134CA01CFC400112F2C08A4D74A2980A5DC52A34518F1660C10A11C0045BB2134D81F060020ED0C523C4A8904E5C420EDC48010F4C91102D48028305D1C33AD061011FC8E31D5308C34714D709188C000A5BC0C01E7E600111F8E00498100528D867100D2035004E606A3E03310E3970E109A5C8270E2591D282D8A20F67E08714D6B1834AA8810614A8C41830B00101BC890C64B040024470031790430E99F844F5FED10A4A04C3134E588242FC818F00D0E00FBF689624F2609055FF68000644E0473864100E6B58E01E87380401E800861F18A00D3CBA0100202005E9300082392B080FAE30824D1C33B082C5832450B189710A040651F0E84036F1A710748108F740C33D0C41883D6C030B0078800B6CC08B5AB88113BEC000375070267F7862B43C7082E5244101BA5E2E7E40435C424640890B18E41301D0C42606B083AF72A10F6AA0400574F1893C7E2318C138402DE69ACCA27AAE165750492DB857902196D4C4042905079C7031826CA215B0F0042862300D62C06200B5804D8BDD22812568022ACABC0F273A00874A1E209E435670490D32A8261BC41F172086C174A1054E68E20F0B78634232E180091032C9024986692742090A88AFFF93075E6D1BAB79105504400B1AD040005A200B524481240801DA0024E01B260EA414C178448D2BE0841604EAD10C190510CA30DA4ABAA11530084027B4D0090938C10D5F5368274C718A4ED8E214A255E681B3210166A4F30329C0A7AAA74C6BC50DA0620B1945A651E3094404A06230D044317D086318FF43141C38C09BE3978C4770E0387880B4B107F2871450027E0AE1C426F0D00BF2C5A0D1D896329C07620A0E4CC00B078941C53AE18D82302E21C958C0233819E86A182F134E48CA7DBE66CAFB8482151D9840073311050AB0E3960F69DB7D2E008447CCA0219EB840C20AA2852A8E0011F1CB63A07A0A041A2764131390403BE4336BE655E51115C36848262A800452E4310055AC450A79C7BBE2B5A2162950F64232C10C4A0CA005B1480C9ADC30002438C1C10E81E03849F1084A708015A218380C169082B428A3D606F94319D4358211DCF909A4A0851B82C1811850421206568C3752C08209C460095E17C52738718BA277806CD33887443651E628A480031C180010A69102494C4012C9E84F82892181B04C80021440820E26408932C03A165CD1C42DA69116449DDD019817376126780A44F4C2130E20DB011E71800F482018BA48041E2868908000003B`
  }

}